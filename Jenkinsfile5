node{
   stages{
      stage('checking'){

            git credentialsId: 'githubint', url: 'https://github.com/ansible777/sample-java-app.git'


      }
      stage('build') {

                def mvnHome = tool name: 'maven3' , type: 'maven'
                sh "${mvnHome}/bin/mvn package"

      }
      stage('sonarqube analysis'){

                def mvnHome = tool name: 'maven3' , type: 'maven'
                   withSonarQubeEnv('sonarqube') {
                      sh "${mvnHome}/bin/mvn sonar:sonar"
                   }

      }
   }

}
